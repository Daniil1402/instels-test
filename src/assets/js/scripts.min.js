"use strict";var header=document.querySelector(".header"),headerHeight=header.offsetHeight,lastScrollTop=0;window.addEventListener("scroll",function(){var e=this.pageYOffset;lastScrollTop<e?headerHeight<e&&header.classList.add("hidden"):header.classList.remove("hidden"),lastScrollTop=e});var sliderSection=document.querySelector(".slider");sliderSection.style.paddingTop="".concat(headerHeight,"px");var menuButton=document.querySelector("#menu"),mobileMenu=document.querySelector(".mobileMenu"),body=document.querySelector("body");menuButton.addEventListener("click",function(){menuButton.classList.toggle("active"),mobileMenu.classList.toggle("active"),body.style.overflow="hidden"===body.style.overflow?"auto":"hidden"});var callback=document.querySelector("#callback"),closeCall=(callPopup=document.querySelector(".call-popup")).querySelector(".closePopup"),popupHidden=function(e){e.classList.add("hidden")},popupShow=function(e){e.classList.remove("hidden")};closeCall.addEventListener("click",function(){popupHidden(callPopup)}),body.addEventListener("click",function(e){e.target.hasAttribute("data-callback")&&callPopup.classList.contains("hidden")&&popupShow(callPopup)});var infoPopup=document.querySelector(".info-popup"),popupBtn=document.querySelector(".popupBtn"),closeInfo=infoPopup.querySelector(".closePopup"),computePopupCoord=function(){var e=popupBtn.getBoundingClientRect(),t=infoPopup.getBoundingClientRect(),n=popupBtn.offsetTop,o=popupBtn.offsetLeft;console.log(n),infoPopup.style="top: ".concat(n-t.height-e.height/2,"px; left: ").concat(o+e.width/5-t.width/2,"px;")};popupBtn.addEventListener("click",function(){infoPopup.classList.contains("hidden")?(popupShow(infoPopup),computePopupCoord()):popupHidden(infoPopup)}),closeInfo.addEventListener("click",function(){popupHidden(infoPopup)});var sliderBig=new Swiper("#sliderBig",{on:{init:function(){console.log("sliderBig initialized")}},loop:!0,slidesPerView:1,effect:"fade",allowTouchMove:!1,autoplay:{delay:2500,disableOnInteraction:!1},breakpoints:{1080:{autoplay:!1}}}),sliderSmall=new Swiper("#sliderSmall",{on:{init:function(){console.log("sliderSmall initialized")}},loop:!0,slidesPerView:"auto",spaceBetween:30,allowTouchMove:!1}),prevSlide=document.querySelector(".btn-prev-slide"),nextSlide=document.querySelector(".btn-next-slide");prevSlide.addEventListener("click",function(){sliderSmall.slidePrev(),sliderBig.slidePrev()}),nextSlide.addEventListener("click",function(){sliderSmall.slideNext(),sliderBig.slideNext()});var callPopup,checkbox=(callPopup=document.querySelector(".call-popup")).querySelector("#checkbox"),submitBtn=callPopup.querySelector("#submit"),nameInput=callPopup.querySelector("#input-name"),phoneInput=callPopup.querySelector("#input-tel");function validatePhone(e){return/^(\+7|7|8)?[\s\-]?\(?[0-9]{3}\)?[\s\-]?[0-9]{3}[\s\-]?[0-9]{2}[\s\-]?[0-9]{2}$/.test(e)}phoneInput.addEventListener("focus",function(){phoneInput.value||(phoneInput.value="+7")});var relevantValue=!1;phoneInput.addEventListener("keyup",function(){validatePhone(phoneInput.value)?(phoneInput.style="border-color: green",relevantValue=!0,checkbox.checked&&activeButton()):(phoneInput.style="border-color: red",relevantValue=!1,disabledButton())}),phoneInput.addEventListener("blur",function(){"+7"!=phoneInput.value&&phoneInput.value||(phoneInput.style="border-color: none",phoneInput.value="")}),nameInput.addEventListener("keyup",function(){nameInput.value.length<2?nameInput.style="border-color: red":nameInput.style="border-color: green"}),nameInput.addEventListener("blur",function(){nameInput.value||(nameInput.style="border-color: none")}),checkbox.addEventListener("change",function(){(submitBtn.hasAttribute("disabled")&&relevantValue?activeButton:disabledButton)()});var activeButton=function(){submitBtn.removeAttribute("disabled")},disabledButton=function(){submitBtn.setAttribute("disabled","disabled")};